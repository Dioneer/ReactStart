"use strict";(self.webpackChunkreact_start=self.webpackChunkreact_start||[]).push([[38],{38:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(885),a=n(791),o=n(694),u=n.n(o),c=n(485),s=n(184);var i=function(){var e=(0,a.useContext)(c.Z).changeImages,t=a.useState(""),n=(0,r.Z)(t,2),o=n[0],i=n[1],d=a.useRef(null),l=a.useRef(null),f=a.useState(!1),v=(0,r.Z)(f,2),h=v[0],g=v[1];(0,a.useEffect)((function(){var e=d.current,t=e.getBoundingClientRect(),n=e.getContext("2d");l.current=n,e.width=t.width,e.height=50,n.scale(1,1),n.lineCap="round",n.strokeStyle="#333",n.lineWidth=1;var r=function(t){e&&(e.contains(t.target)||(e.height=50,i(o="")))};return document.addEventListener("click",r),function(){document.removeEventListener("click",r)}}),[]);var m=function(e){d.current.height=100,i(o="active");var t=e.target.getBoundingClientRect();p(t.width,t.height);var n=e.nativeEvent,r=n.offsetX,a=n.offsetY;if(r&&a)l.current.beginPath(),l.current.moveTo(r,a),l.current.lineTo(r,a),l.current.stroke(),g(h=!0);else{var u=e.targetTouches[0].pageX-t.left,c=e.targetTouches[0].pageY-t.top;l.current.beginPath(),l.current.moveTo(u,c),g(h=!0),l.current.lineTo(u,c),l.current.stroke()}},p=function(e,t){l.current.clearRect(0,0,e,t)},T=function(e){l.current.closePath(),g(h=!1)},b=function(e){if(h){var t=e.nativeEvent,n=t.offsetX,r=t.offsetY;if(n&&r)l.current.lineTo(n,r),l.current.stroke();else{var a=e.target.getBoundingClientRect(),o=e.targetTouches[0].pageX-a.left,u=e.targetTouches[0].pageY-a.top;l.current.lineTo(o,u),l.current.stroke()}}};return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("canvas",{className:u()("canvas",{active:o}),onMouseDown:m,onMouseUp:T,onMouseMove:b,onTouchStart:m,onTouchEnd:T,onMouseLeave:T,onTouchMove:b,ref:d}),(0,s.jsx)("button",{className:"button button__big",type:"submit",onClick:function(t){var n=new Date,r=t.currentTarget;r.setAttribute("download",n);var a=d.current.toDataURL("image/png");r.setAttribute("href",a),e(a)},children:(0,s.jsx)("span",{children:"Send"})})]})};var d=function(e){var t=e.onCreate,n=a.useState(""),o=(0,r.Z)(n,2),c=o[0],d=o[1],l=a.useState("Add Todo"),f=(0,r.Z)(l,2),v=f[0],h=f[1],g=a.useState([]),m=(0,r.Z)(g,2),p=m[0],T=m[1];return(0,s.jsxs)("form",{className:"form form__addToDo",action:"#",method:"POST",onSubmit:function(e){e.preventDefault(),c.trim()&&(t(c),h(v="Add Todo"),d(c=""))},children:[(0,s.jsxs)("div",{className:"form__addText canvas__prim",children:[(0,s.jsx)("input",{type:"text","data-value":c,value:v||"","data-error":"\u043e\u0448\u0438\u0431\u043a\u0430",autoComplete:"off",name:"name",className:u()("input",{active:p[0]}),onFocus:function(){return p.push("active"),void h(v="")},onBlur:function(){return h(v="Add Todo"),void T(p=[])},onChange:function(e){h(e.target.value),d(e.target.value)}}),(0,s.jsx)("button",{className:"button button__big",type:"submit",children:(0,s.jsx)("span",{children:"Send"})})]}),(0,s.jsx)("div",{className:"form__addText canvas__add",children:(0,s.jsx)(i,{})})]})}}}]);
//# sourceMappingURL=38.04db6dc4.chunk.js.map